-- ==============================================================
-- Generated by Vitis HLS v2025.1
-- Copyright 1986-2022 Xilinx, Inc. All Rights Reserved.
-- Copyright 2022-2025 Advanced Micro Devices, Inc. All Rights Reserved.
-- ==============================================================

library IEEE;
use IEEE.std_logic_1164.all;
use IEEE.numeric_std.all;

entity GenerateProof_gf128_multiply is
port (
    ap_clk : IN STD_LOGIC;
    ap_rst : IN STD_LOGIC;
    a : IN STD_LOGIC_VECTOR (127 downto 0);
    b_val : IN STD_LOGIC_VECTOR (127 downto 0);
    ap_return : OUT STD_LOGIC_VECTOR (127 downto 0);
    ap_ce : IN STD_LOGIC );
end;


architecture behav of GenerateProof_gf128_multiply is 
    constant ap_const_logic_1 : STD_LOGIC := '1';
    constant ap_const_logic_0 : STD_LOGIC := '0';
    constant ap_const_boolean_1 : BOOLEAN := true;
    constant ap_const_boolean_0 : BOOLEAN := false;
    constant ap_const_lv32_80 : STD_LOGIC_VECTOR (31 downto 0) := "00000000000000000000000010000000";
    constant ap_const_lv32_FE : STD_LOGIC_VECTOR (31 downto 0) := "00000000000000000000000011111110";
    constant ap_const_lv7_0 : STD_LOGIC_VECTOR (6 downto 0) := "0000000";
    constant ap_const_lv2_0 : STD_LOGIC_VECTOR (1 downto 0) := "00";
    constant ap_const_lv1_0 : STD_LOGIC_VECTOR (0 downto 0) := "0";
    constant ap_const_lv32_85 : STD_LOGIC_VECTOR (31 downto 0) := "00000000000000000000000010000101";

attribute shreg_extract : string;
    signal ap_block_pp0_stage0_11001 : BOOLEAN;
    signal grp_gf128_clmul_fu_56_ap_return : STD_LOGIC_VECTOR (254 downto 0);
    signal product_reg_221 : STD_LOGIC_VECTOR (254 downto 0);
    signal ap_block_pp0_stage0_11001_ignoreCallOp17 : BOOLEAN;
    signal high_reg_226 : STD_LOGIC_VECTOR (126 downto 0);
    signal grp_gf128_clmul_fu_56_ap_ce : STD_LOGIC;
    signal ap_block_pp0_stage0_11001_ignoreCallOp11 : BOOLEAN;
    signal ap_block_pp0_stage0_ignoreCallOp11 : BOOLEAN;
    signal ap_block_pp0_stage0 : BOOLEAN;
    signal r3_fu_94_p3 : STD_LOGIC_VECTOR (127 downto 0);
    signal zext_ln21_fu_77_p1 : STD_LOGIC_VECTOR (127 downto 0);
    signal xor_ln29_fu_101_p2 : STD_LOGIC_VECTOR (127 downto 0);
    signal r2_fu_87_p3 : STD_LOGIC_VECTOR (128 downto 0);
    signal zext_ln29_fu_107_p1 : STD_LOGIC_VECTOR (128 downto 0);
    signal xor_ln29_1_fu_111_p2 : STD_LOGIC_VECTOR (128 downto 0);
    signal r1_fu_80_p3 : STD_LOGIC_VECTOR (133 downto 0);
    signal zext_ln29_1_fu_117_p1 : STD_LOGIC_VECTOR (133 downto 0);
    signal temp_fu_121_p2 : STD_LOGIC_VECTOR (133 downto 0);
    signal overflow_fu_131_p4 : STD_LOGIC_VECTOR (5 downto 0);
    signal o1_fu_145_p3 : STD_LOGIC_VECTOR (12 downto 0);
    signal low_fu_74_p1 : STD_LOGIC_VECTOR (127 downto 0);
    signal zext_ln35_fu_153_p1 : STD_LOGIC_VECTOR (127 downto 0);
    signal xor_ln40_fu_173_p2 : STD_LOGIC_VECTOR (127 downto 0);
    signal mid_fu_127_p1 : STD_LOGIC_VECTOR (127 downto 0);
    signal o3_fu_165_p3 : STD_LOGIC_VECTOR (6 downto 0);
    signal zext_ln33_fu_141_p1 : STD_LOGIC_VECTOR (6 downto 0);
    signal xor_ln40_2_fu_185_p2 : STD_LOGIC_VECTOR (6 downto 0);
    signal zext_ln40_fu_191_p1 : STD_LOGIC_VECTOR (7 downto 0);
    signal o2_fu_157_p3 : STD_LOGIC_VECTOR (7 downto 0);
    signal xor_ln40_3_fu_195_p2 : STD_LOGIC_VECTOR (7 downto 0);
    signal zext_ln40_1_fu_201_p1 : STD_LOGIC_VECTOR (127 downto 0);
    signal xor_ln40_1_fu_179_p2 : STD_LOGIC_VECTOR (127 downto 0);
    signal xor_ln40_4_fu_205_p2 : STD_LOGIC_VECTOR (127 downto 0);
    signal ap_ce_reg : STD_LOGIC;
    signal a_int_reg : STD_LOGIC_VECTOR (127 downto 0);
    signal b_val_int_reg : STD_LOGIC_VECTOR (127 downto 0);
    signal ap_return_int_reg : STD_LOGIC_VECTOR (127 downto 0);

    component GenerateProof_gf128_clmul IS
    port (
        ap_clk : IN STD_LOGIC;
        ap_rst : IN STD_LOGIC;
        a : IN STD_LOGIC_VECTOR (127 downto 0);
        b : IN STD_LOGIC_VECTOR (127 downto 0);
        ap_return : OUT STD_LOGIC_VECTOR (254 downto 0);
        ap_ce : IN STD_LOGIC );
    end component;



begin
    grp_gf128_clmul_fu_56 : component GenerateProof_gf128_clmul
    port map (
        ap_clk => ap_clk,
        ap_rst => ap_rst,
        a => a_int_reg,
        b => b_val_int_reg,
        ap_return => grp_gf128_clmul_fu_56_ap_return,
        ap_ce => grp_gf128_clmul_fu_56_ap_ce);





    ap_ce_reg_assign_proc : process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            ap_ce_reg <= ap_ce;
        end if;
    end process;
    process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if ((ap_const_logic_1 = ap_ce)) then
                a_int_reg <= a;
                b_val_int_reg <= b_val;
            end if;
        end if;
    end process;
    process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if ((ap_const_logic_1 = ap_ce_reg)) then
                ap_return_int_reg <= xor_ln40_4_fu_205_p2;
            end if;
        end if;
    end process;
    process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if (((ap_const_logic_1 = ap_ce_reg) and (ap_const_boolean_0 = ap_block_pp0_stage0_11001))) then
                high_reg_226 <= grp_gf128_clmul_fu_56_ap_return(254 downto 128);
            end if;
        end if;
    end process;
    process (ap_clk)
    begin
        if (ap_clk'event and ap_clk = '1') then
            if (((ap_const_logic_1 = ap_ce_reg) and (ap_const_boolean_0 = ap_block_pp0_stage0_11001_ignoreCallOp17))) then
                product_reg_221 <= grp_gf128_clmul_fu_56_ap_return;
            end if;
        end if;
    end process;
        ap_block_pp0_stage0 <= not((ap_const_boolean_1 = ap_const_boolean_1));
        ap_block_pp0_stage0_11001 <= not((ap_const_boolean_1 = ap_const_boolean_1));
        ap_block_pp0_stage0_11001_ignoreCallOp11 <= not((ap_const_boolean_1 = ap_const_boolean_1));
        ap_block_pp0_stage0_11001_ignoreCallOp17 <= not((ap_const_boolean_1 = ap_const_boolean_1));
        ap_block_pp0_stage0_ignoreCallOp11 <= not((ap_const_boolean_1 = ap_const_boolean_1));

    ap_return_assign_proc : process(xor_ln40_4_fu_205_p2, ap_ce_reg, ap_return_int_reg)
    begin
        if ((ap_const_logic_0 = ap_ce_reg)) then 
            ap_return <= ap_return_int_reg;
        elsif ((ap_const_logic_1 = ap_ce_reg)) then 
            ap_return <= xor_ln40_4_fu_205_p2;
        else 
            ap_return <= "XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX";
        end if; 
    end process;


    grp_gf128_clmul_fu_56_ap_ce_assign_proc : process(ap_block_pp0_stage0_11001_ignoreCallOp11, ap_ce_reg)
    begin
        if (((ap_const_logic_1 = ap_ce_reg) and (ap_const_boolean_0 = ap_block_pp0_stage0_11001_ignoreCallOp11))) then 
            grp_gf128_clmul_fu_56_ap_ce <= ap_const_logic_1;
        else 
            grp_gf128_clmul_fu_56_ap_ce <= ap_const_logic_0;
        end if; 
    end process;

    low_fu_74_p1 <= product_reg_221(128 - 1 downto 0);
    mid_fu_127_p1 <= temp_fu_121_p2(128 - 1 downto 0);
    o1_fu_145_p3 <= (overflow_fu_131_p4 & ap_const_lv7_0);
    o2_fu_157_p3 <= (overflow_fu_131_p4 & ap_const_lv2_0);
    o3_fu_165_p3 <= (overflow_fu_131_p4 & ap_const_lv1_0);
    overflow_fu_131_p4 <= temp_fu_121_p2(133 downto 128);
    r1_fu_80_p3 <= (high_reg_226 & ap_const_lv7_0);
    r2_fu_87_p3 <= (high_reg_226 & ap_const_lv2_0);
    r3_fu_94_p3 <= (high_reg_226 & ap_const_lv1_0);
    temp_fu_121_p2 <= (zext_ln29_1_fu_117_p1 xor r1_fu_80_p3);
    xor_ln29_1_fu_111_p2 <= (zext_ln29_fu_107_p1 xor r2_fu_87_p3);
    xor_ln29_fu_101_p2 <= (zext_ln21_fu_77_p1 xor r3_fu_94_p3);
    xor_ln40_1_fu_179_p2 <= (xor_ln40_fu_173_p2 xor mid_fu_127_p1);
    xor_ln40_2_fu_185_p2 <= (zext_ln33_fu_141_p1 xor o3_fu_165_p3);
    xor_ln40_3_fu_195_p2 <= (zext_ln40_fu_191_p1 xor o2_fu_157_p3);
    xor_ln40_4_fu_205_p2 <= (zext_ln40_1_fu_201_p1 xor xor_ln40_1_fu_179_p2);
    xor_ln40_fu_173_p2 <= (zext_ln35_fu_153_p1 xor low_fu_74_p1);
    zext_ln21_fu_77_p1 <= std_logic_vector(IEEE.numeric_std.resize(unsigned(high_reg_226),128));
    zext_ln29_1_fu_117_p1 <= std_logic_vector(IEEE.numeric_std.resize(unsigned(xor_ln29_1_fu_111_p2),134));
    zext_ln29_fu_107_p1 <= std_logic_vector(IEEE.numeric_std.resize(unsigned(xor_ln29_fu_101_p2),129));
    zext_ln33_fu_141_p1 <= std_logic_vector(IEEE.numeric_std.resize(unsigned(overflow_fu_131_p4),7));
    zext_ln35_fu_153_p1 <= std_logic_vector(IEEE.numeric_std.resize(unsigned(o1_fu_145_p3),128));
    zext_ln40_1_fu_201_p1 <= std_logic_vector(IEEE.numeric_std.resize(unsigned(xor_ln40_3_fu_195_p2),128));
    zext_ln40_fu_191_p1 <= std_logic_vector(IEEE.numeric_std.resize(unsigned(xor_ln40_2_fu_185_p2),8));
end behav;
